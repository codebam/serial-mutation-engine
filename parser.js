class Bitstream {
    constructor(binaryString) {
        this.binary = binaryString;
        this.pos = 0;
    }

    read(length) {
        const bits = this.binary.substring(this.pos, this.pos + length);
        this.pos += length;
        return bits;
    }

    readInt(length) {
        return parseInt(this.read(length), 2);
    }
}

const binary = "0010000110100100001110010110000000011001000001100010011100000100010000110011011011110111000001011001001010101101111100010110010101100001000101111000100010011100010011011100001000001111000100000111100010000011110001000001111000100000111100010000011110001001011110000100010111000010001011100001001011110000100010111000010001011100001000110111000100011010100010001111100001000011101000100000011100010001011100001000110111000100101111000000101000111111011101110000000101000100101010001001010100010010101000100101010001001010100010010101000100101011011010001000010100010010101000100101010001001010100010010101000100101010001001000000000";

const stream = new Bitstream(binary);

const type = stream.read(10);
console.log(`Type: ${type}`);

const key9 = stream.readInt(4);
console.log(`Key: ${key9}`);
